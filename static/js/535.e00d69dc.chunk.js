"use strict";(self.webpackChunkdemo_2=self.webpackChunkdemo_2||[]).push([[535],{4535:function(e,n,r){r.r(n),r.d(n,{default:function(){return x}});var t=r(5861),o=r(885),a=r(7757),s=r.n(a),i=r(6786),c=r(5671),u=r(3144),l=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,null,[{key:"validator",value:function(e){var n=e.name,r=e.email,t=e.address,o=e.phoneNumber;return new Promise((function(e,a){""===n&&""===t&&""===t?a({val:!1,warning:"Fields cannot be empty"}):n.length>20?a({val:!1,warning:"Name should not exceed 20 characters"}):r.includes("@")?o.toString().length<8?a({val:!1,warning:"Please enter a valid phone number"}):isNaN(o)?a({val:!1,warning:"please enter correct phone number"}):e(!0):a({val:!1,warning:"Email address is not valid"})}))}}]),e}(),d=r(348),m=r(2926),h=(r(4896),r(2791)),p=r(6860),f=r(184),x=function(){var e=(0,p.H)(),n=(0,h.useState)(""),r=(0,o.Z)(n,2),a=r[0],c=r[1],u=(0,h.useState)(""),x=(0,o.Z)(u,2),g=x[0],v=x[1],j=(0,h.useState)(""),y=(0,o.Z)(j,2),I=y[0],w=y[1],b=(0,h.useState)(""),C=(0,o.Z)(b,2),S=C[0],Z=C[1],k=(0,h.useState)(!1),N=(0,o.Z)(k,2),D=N[0],F=N[1],E=(0,h.useState)(!1),P=(0,o.Z)(E,2),$=P[0],q=P[1],Q=(0,h.useState)(!1),Y=(0,o.Z)(Q,2),_=Y[0],K=Y[1],O=(0,h.useState)(""),A=(0,o.Z)(O,2),B=A[0],G=A[1],H=(0,h.useState)(!1),T=(0,o.Z)(H,2),z=T[0],W=T[1],J=(0,h.useState)(!1),L=(0,o.Z)(J,2),M=L[0],R=L[1],U=(0,i.$B)(),V=(0,i.k6)();(0,h.useEffect)((function(){U&&U.params&&U.params.id&&ne()}),[U.params.id]),(0,h.useEffect)((function(){var e=!1;return e&&ne(),function(){e=!0}}),[]);var X=function(){c(""),w(""),v(""),Z(""),q(!0),W(!1)},ee=function(){var n=(0,t.Z)(s().mark((function n(){var r,t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:a,email:g,phoneNumber:+S,address:I,service:M},t=!1,n.next=4,l.validator(r).then((function(e){return t=!0===e})).catch((function(e){return G(e.warning)}));case 4:t?U.params.id?(W(!0),e.updateForm({id:U.params.id,body:r}).then((function(){X(),V.replace("/tabs/p/createForm")})).catch((function(e){console.error(e)}))):(W(!0),e.createForm(r).then((function(e){e.data;e&&X()})).catch((function(e){G("something went wrong"),K(!0)}))):K(!0),G("");case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ne=function(){W(!0),e.getFormById(U.params.id).then((function(e){var n=e.data;console.log(n,"success"),c(n.name),w(n.address),v(n.email),Z(n.phoneNumber),W(!1)})).catch((function(e){console.log(e)}))};return(0,f.jsxs)(d._i,{children:[(0,f.jsx)(d.Gu,{className:"ion-header",children:(0,f.jsxs)(d.sr,{children:[(0,f.jsx)(d.Sm,{slot:"start",children:(0,f.jsx)(d.fG,{})}),(0,f.jsx)(d.wd,{children:"Create Form"})]})}),(0,f.jsxs)(d.W2,{className:"ion-padding loader-container",children:[(0,f.jsx)(d.Px,{mode:"ios",position:"top",icon:m.nT7,isOpen:$,color:"success",onDidDismiss:function(){return q(!1)},message:"Form submitted successfully !!!",duration:2e3}),(0,f.jsx)(d.Px,{mode:"ios",position:"top",icon:m.nT7,isOpen:_,color:"danger",onDidDismiss:function(){return K(!1)},message:B,duration:2e3}),(0,f.jsx)(d.wh,{cssClass:"my-custom-class",isOpen:z,onDidDismiss:function(){return W(!1)},message:"Please wait...",duration:7e3}),(0,f.jsxs)(d.q_,{id:"main-content",className:"layout",mode:"ios",inset:!0,children:[(0,f.jsxs)(d.Ie,{children:[(0,f.jsx)(d.Q$,{position:"floating",color:"primary",children:"Enter Your Name..."}),(0,f.jsx)(d.pK,{value:a,autofocus:!0,color:"danger",required:!0,autoCapitalize:"words",onIonChange:function(e){return c(e.detail.value)},clearInput:!0})]}),(0,f.jsxs)(d.Ie,{children:[(0,f.jsx)(d.Q$,{position:"floating",color:"primary",children:"Enter Your Email..."}),(0,f.jsx)(d.pK,{value:g,color:"danger",required:!0,onIonChange:function(e){return v(e.detail.value)},clearInput:!0})]}),(0,f.jsxs)(d.Ie,{children:[(0,f.jsx)(d.Q$,{position:"floating",color:"primary",children:"Enter Your Address..."}),(0,f.jsx)(d.pK,{value:I,color:"danger",required:!0,onIonChange:function(e){return w(e.detail.value)},clearInput:!0})]}),(0,f.jsxs)(d.Ie,{children:[(0,f.jsx)(d.Q$,{position:"floating",color:"primary",children:"Enter Your Phone Number..."}),(0,f.jsx)(d.pK,{type:"tel",value:S,required:!0,color:"danger",clearInput:!0,onIonChange:function(e){return Z(e.detail.value)}})]}),(0,f.jsxs)(d.Ie,{children:[(0,f.jsx)(d.Q$,{color:"primary",children:"Continue Service"}),(0,f.jsx)(d.ho,{checked:M,onIonChange:function(){return R((function(e){return!e}))},slot:"end",color:"secondary"})]}),(0,f.jsx)(d.Ie,{})]}),(0,f.jsx)(d.YG,{color:"secondary",onClick:function(){return F(!0)},expand:"block",children:"Action"}),(0,f.jsx)(d.uo,{isOpen:D,onDidDismiss:function(){return F(!1)},cssClass:"my-custom-class",buttons:[{text:"Delete",role:"destructive",icon:m._Ij,id:"delete-button",data:{type:"delete"},handler:function(){F((function(e){return!e})),c(""),w(""),v(""),Z(""),V.replace("/tabs/p/CreateForm")}},{text:"Share",icon:m.BNl,data:10,handler:function(){console.log("Share clicked")}},{text:"Add",icon:m.IHx,data:"Data value",handler:ee},{text:"Favorite",icon:m.sdP,handler:function(){console.log("Favorite clicked")}},{text:"Cancel",role:"cancel",handler:function(){return F(!1)}}]})]})]})}}}]);
//# sourceMappingURL=535.e00d69dc.chunk.js.map